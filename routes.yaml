routes:
  # ROMA (imutável) — mas com "sampling" pra não explodir
  - id: ROMA_GRU_FCO_2A1C_DIRECT
    origin: "GRU"
    destination: "FCO"
    adults: 2
    children: 1
    cabin: "ECONOMY"
    currency: "BRL"
    direct_only: true
    rule: "ROME_15D_WINDOW"
    rule_params:
      trip_days: 15
      start_mm_dd: [9, 1]
      latest_return_mm_dd: [10, 5]
      # ✅ limita quantos pares consultar por execução
      max_pairs: 12
      # ✅ amostra: pega 1 a cada N dias dentro da janela (mantém guardrail)
      step_days: 2
    watch:
      target_price_total: 13000
      max_stops: 0

  # CURITIBA — começa em D+60, mas consulta poucos pares por execução
  - id: CWB_CGH_2A1C_DIRECT
    origin: "CGH"
    destination: "CWB"
    adults: 2
    children: 1
    cabin: "ECONOMY"
    currency: "BRL"
    direct_only: true
    rule: "WEEKEND_WINDOW"
    rule_params:
      start_offset_days: 60
      horizon_days: 60
      depart_dows: [4, 5]
      return_dows: [6, 0]
      max_trip_len_days: 4
      max_pairs: 16
    watch:
      target_price_total: 800
      max_stops: 0

  # NAVEGANTES — começa em D+60, idem
  - id: NVT_GRU_1A
    origin: "GRU"
    destination: "NVT"
    adults: 1
    children: 0
    cabin: "ECONOMY"
    currency: "BRL"
    direct_only: false
    rule: "WEEKEND_WINDOW"
    rule_params:
      start_offset_days: 60
      horizon_days: 60
      depart_dows: [4, 5]
      return_dows: [6, 0]
      max_trip_len_days: 4
      max_pairs: 16
    watch:
      target_price_total: 350
